<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Will you be my Valentine Nikita?</title>

<style>
:root{
  /* Emerald + Sage theme */
  --emerald:#0f766e;
  --emerald2:#065f46;
  --sage:#a7c4b1;
  --sage2:#d7e7dd;

  --ink:#0f172a;
  --muted:rgba(15,23,42,.65);

  --card:rgba(255,255,255,0.78);
  --stroke:rgba(15,118,110,.20);
  --shadow:rgba(2,44,34,.18);

  --heart:#e11d48;
}

*{ box-sizing:border-box; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  min-height:100vh;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  color:var(--ink);
  overflow-x:hidden;

  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(167,196,177,.85), transparent 60%),
    radial-gradient(900px 700px at 80% 20%, rgba(15,118,110,.30), transparent 55%),
    radial-gradient(900px 700px at 50% 95%, rgba(225, 29, 72, 0.10), transparent 60%),
    linear-gradient(135deg, var(--sage2), rgba(15,118,110,.10));
}

.container{
  width:min(920px, 94vw);
  margin: 28px auto 80px;
  position:relative;
  z-index:1;
}

/* floating petals */
.petals{
  position:fixed;
  inset:-40px;
  pointer-events:none;
  overflow:hidden;
  z-index:0;
}
.petal{
  position:absolute;
  opacity:0;
  animation:drift var(--d) linear infinite;
  font-size:var(--s);
  color:rgba(15,118,110,.16);
  text-shadow: 0 10px 16px rgba(2,44,34,0.06);
}
@keyframes drift{
  0%{transform:translate(var(--x), 120vh);opacity:0}
  10%,90%{opacity:1}
  100%{transform:translate(calc(var(--x)+var(--dx)), -40vh);opacity:0}
}

/* card */
.card{
  position:relative;
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:22px;
  box-shadow:0 20px 70px var(--shadow);
  padding:32px 24px 26px;
  text-align:center;
  backdrop-filter:blur(10px);
}

.badge{
  display:inline-block;
  padding:8px 14px;
  border-radius:999px;
  background:rgba(15,118,110,.08);
  border:1px solid rgba(15,118,110,.16);
  font-weight:700;
  font-size:13px;
  margin-bottom:18px;
}

.icon{ margin:10px auto 14px; }
.love-icon{
  width:96px;
  animation:pulse 2.8s ease-in-out infinite;
  display:inline-block;
}
@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.06)}
}

h1{
  font-size:clamp(26px,3.5vw,42px);
  margin:0 0 10px;
  font-weight:900;
  letter-spacing:-0.02em;
}
p{
  margin:0 0 18px;
  color:var(--muted);
  line-height:1.5;
}

/* stage */
.stage{
  position:relative;
  width:min(560px,96%);
  height:120px;
  margin:18px auto 6px;
  border-radius:18px;
  background:rgba(167,196,177,.18);
  border:1px dashed rgba(6,95,70,.25);
  overflow:hidden;
}

/* buttons */
.btn{
  position:absolute;
  padding:12px 26px;
  border-radius:999px;
  border:none;
  font-weight:800;
  font-size:16px;
  cursor:pointer;
  transition:transform .15s ease, filter .15s ease, box-shadow .2s ease, left 260ms ease, top 260ms ease;
  -webkit-tap-highlight-color:transparent;
  touch-action:manipulation;
}
.btn:active{ transform: translate(-50%, -50%) scale(.98); }

#yesBtn{
  background:linear-gradient(135deg,var(--emerald),var(--emerald2));
  color:white;
  box-shadow:0 14px 26px rgba(15,118,110,.35);
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
#yesBtn:hover{ filter:brightness(1.03); }

#noBtn{
  background:rgba(255,255,255,.58);
  border:1px solid rgba(15,118,110,.16);
  box-shadow:0 10px 20px rgba(0,0,0,.10);
  left: 66%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.hint{
  font-size:12.5px;
  margin-top:10px;
  color:rgba(6,95,70,.75);
}
.result{
  display:none;
  margin-top:18px;
  font-weight:900;
  color:rgba(6,95,70,.95);
}

/* hearts overlay */
.sparkles{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:10;
}
.heart{
  position:absolute;
  animation:float 1.3s ease forwards;
  font-size:18px;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,.12));
}
@keyframes float{
  0%{opacity:0;transform:translateY(0) scale(.9)}
  10%{opacity:1}
  100%{opacity:0;transform:translateY(-160px) scale(1.15)}
}

/* ===== After-Yes content ===== */
.afterYes{
  display:none;
  margin-top: 18px;
  position:relative;
}

.section{
  margin-top: 18px;
  background: rgba(255,255,255,0.72);
  border:1px solid rgba(15,118,110,.14);
  border-radius: 20px;
  box-shadow: 0 18px 55px rgba(2,44,34,0.12);
  padding: 22px 18px;
  backdrop-filter: blur(8px);
  text-align:center;
}

.section h2{
  margin:0 0 10px;
  font-size: clamp(20px, 2.3vw, 28px);
  font-weight: 950;
  letter-spacing:-0.01em;
}
.sub{
  margin:0 0 14px;
  color: rgba(15,23,42,0.65);
  font-size: 14px;
}

.celebrate{
  background:
    radial-gradient(900px 400px at 20% 0%, rgba(225, 29, 72, 0.16), transparent 60%),
    radial-gradient(900px 400px at 80% 20%, rgba(15,118,110,0.16), transparent 60%),
    rgba(255,255,255,0.75);
}
.bigLine{
  font-weight: 950;
  color: rgba(225, 29, 72, 0.92);
  font-size: clamp(22px, 2.8vw, 34px);
  margin: 0 0 6px;
}
.smallLine{
  margin:0;
  color: rgba(15,23,42,0.60);
}

/* accordion dropdown for date ideas */
.accordion{
  display:grid;
  gap: 10px;
  margin-top: 10px;
  text-align:left;
}
.acc{
  border-radius: 16px;
  background: rgba(255,255,255,0.72);
  border: 1px solid rgba(15,118,110,0.12);
  box-shadow: 0 14px 28px rgba(2,44,34,0.08);
  overflow:hidden;
}
.acc summary{
  list-style:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 14px;
  font-weight: 900;
  color: rgba(15,23,42,0.76);
}
.acc summary::-webkit-details-marker{ display:none; }
.accHint{
  font-size: 12px;
  font-weight: 800;
  color: rgba(15,23,42,0.45);
}
.accBody{
  padding: 0 14px 14px;
  color: rgba(15,23,42,0.70);
}
.accBody ul{
  margin: 8px 0 0;
  padding-left: 18px;
}
.acc[open] summary{
  background: linear-gradient(135deg, rgba(225,29,72,0.10), rgba(15,118,110,0.08));
}

/* planner controls */
.planControls{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:12px;
  align-items:center;
}
.planLabel{
  font-weight:900;
  font-size:13px;
  color: rgba(15,23,42,0.55);
  width:100%;
}

/* Planned marker */
.acc.planned summary{
  background: linear-gradient(135deg, rgba(15,118,110,0.14), rgba(167,196,177,0.10));
}
.acc.planned{
  border-color: rgba(15,118,110,0.28);
  box-shadow: 0 16px 34px rgba(2,44,34,0.12);
}
.planStatus{
  font-weight: 950;
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(15,118,110,0.18);
  background: rgba(15,118,110,0.10);
  color: rgba(6,95,70,0.85);
  margin-top: 10px;
  display: inline-flex;
  gap: 6px;
  align-items: center;
}

/* envelope */
.envelopeWrap{
  display:grid;
  place-items:center;
  margin-top: 8px;
}
.envelope{
  width: min(360px, 92%);
  height: 190px;
  border-radius: 18px;
  position: relative;
  cursor: pointer;
  user-select:none;

  background: linear-gradient(135deg, rgba(225,29,72,0.18), rgba(15,118,110,0.12));
  border: 1px solid rgba(225,29,72,0.18);
  box-shadow: 0 16px 40px rgba(2,44,34,0.12);
  overflow:hidden;
}
.envTop{
  position:absolute; inset:0;
  background: linear-gradient(135deg, rgba(225,29,72,0.26), rgba(225,29,72,0.10));
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  opacity: 0.9;
}
.envBottom{
  position:absolute; inset:0;
  background: rgba(255,255,255,0.25);
  clip-path: polygon(0 100%, 100% 100%, 100% 35%, 50% 70%, 0 35%);
}
.letter{
  position:absolute;
  left: 12px; right: 12px;
  bottom: 10px;
  height: 78%;
  border-radius: 14px;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(15,118,110,0.12);
  padding: 12px 12px;

  /* secret by default */
  opacity: 0;
  visibility: hidden;
  transform: translateY(80%);
  transition: transform 420ms ease, opacity 220ms ease, visibility 0ms linear 220ms;
}

/* reveal only when open */
.envelope.open .letter{
  opacity: 1;
  visibility: visible;
  transform: translateY(0%);
  transition: transform 420ms ease, opacity 220ms ease;
}

/* memories / cards */
.memGrid{
  margin-top: 12px;
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
  align-items: stretch;
}

.memCard{
  border-radius: 16px;
  background: rgba(255,255,255,0.72);
  border: 1px solid rgba(15,118,110,0.12);
  box-shadow: 0 14px 28px rgba(2,44,34,0.10);
  overflow:hidden;
  cursor:pointer;
  position:relative;

  /* all cards same height */
  aspect-ratio: 16 / 9;
  min-height: 150px;

  display:grid;
  place-items:center;
}

.memCover{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  font-size: 34px;
  background: linear-gradient(135deg, rgba(225,29,72,0.12), rgba(15,118,110,0.10));
}

.memReveal{
  display:none;
  width:100%;
  height:100%;
  padding: 14px 14px 16px;
  color: rgba(15,23,42,0.72);
  font-weight: 850;
  line-height: 1.35;
  overflow:auto;
  text-align:center;
}

.memReveal small{
  display:block;
  margin-top: 8px;
  font-weight: 650;
  color: rgba(15,23,42,0.55);
}

.memCard.open .memCover{ display:none; }
.memCard.open .memReveal{ display:block; }

@media (max-width: 520px){
  .memGrid{grid-template-columns:1fr;}
}

/* toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  background: rgba(255,255,255,0.90);
  border: 1px solid rgba(15,118,110,0.16);
  box-shadow: 0 18px 50px rgba(2,44,34,0.16);
  padding: 12px 14px;
  border-radius: 16px;
  font-weight: 850;
  color: rgba(15,23,42,0.78);
  display:none;
  z-index: 50;
  max-width: min(520px, 92vw);
  text-align:center;
}

.surpriseRow{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
  justify-content:center;
  margin-top: 8px;
}
.pillBtn{
  border:none;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 900;
  cursor:pointer;
  background: linear-gradient(135deg, rgba(225,29,72,0.22), rgba(225,29,72,0.12));
  border: 1px solid rgba(225,29,72,0.18);
  color: rgba(15,23,42,0.75);
  box-shadow: 0 10px 18px rgba(0,0,0,0.08);
}
.pillBtn:active{ transform: scale(.98); }

.footerNote{
  margin-top: 14px;
  color: rgba(15,23,42,0.55);
  font-size: 12.5px;
}

/* Promise Jar */
.jarWrap{
  display:grid;
  place-items:center;
  gap: 12px;
  margin-top: 10px;
}

.jar{
  width: min(260px, 78vw);
  height: 280px;
  position: relative;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  outline: none;
}
.jar:active{ transform: scale(.99); }

.jarGlass{
  position:absolute;
  inset: 26px 18px 18px 18px;
  border-radius: 28px 28px 34px 34px;
  background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.22));
  border: 1px solid rgba(15,118,110,0.18);
  box-shadow: 0 18px 55px rgba(2,44,34,0.14);
  backdrop-filter: blur(6px);
}
.jarShine{
  position:absolute;
  left: 34px;
  top: 52px;
  width: 60px;
  height: 160px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0));
  opacity: 0.7;
  pointer-events:none;
}
.jarLid{
  position:absolute;
  left: 40px;
  right: 40px;
  top: 6px;
  height: 44px;
  border-radius: 18px;
  background: linear-gradient(135deg, rgba(65, 64, 64, 0.22), rgba(77, 77, 77, 0.1));
  border: 1px solid rgba(78, 75, 76, 0.18);
  box-shadow: 0 14px 30px rgba(0,0,0,0.10);
}
.jarLabel{
  position:absolute;
  left: 50%;
  bottom: 42px;
  transform: translateX(-50%);
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 950;
  font-size: 14px;
  color: rgba(15,23,42,0.72);
  background: rgba(255,255,255,0.70);
  border: 1px solid rgba(15,118,110,0.12);
  box-shadow: 0 10px 18px rgba(0,0,0,0.06);
}
.jarNotes{
  position:absolute;
  inset: 70px 32px 70px 32px;
  pointer-events:none;
}
.note{
  position:absolute;
  font-size: 22px;
  opacity: 0.85;
  filter: drop-shadow(0 10px 12px rgba(0,0,0,0.10));
  animation: bob 3.2s ease-in-out infinite;
}
.note.n1{ left: 12%; top: 18%; transform: rotate(-10deg); animation-delay: .0s; }
.note.n2{ left: 62%; top: 12%; transform: rotate(12deg);  animation-delay: .4s; }
.note.n3{ left: 26%; top: 52%; transform: rotate(8deg);   animation-delay: .8s; }
.note.n4{ left: 68%; top: 56%; transform: rotate(-12deg); animation-delay: 1.2s; }
.note.n5{ left: 44%; top: 34%; transform: rotate(6deg);   animation-delay: 1.6s; }

@keyframes bob{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}
.jar.pop{ animation: jarPop 420ms ease; }
@keyframes jarPop{
  0%{ transform: scale(1); }
  35%{ transform: scale(1.03) rotate(-1deg); }
  70%{ transform: scale(1.01) rotate(1deg); }
  100%{ transform: scale(1); }
}

.jarBtn.ghost{
  background: rgba(255,255,255,0.60);
  border: 1px solid rgba(15,118,110,0.14);
}

/* ===== Passcode Gate ===== */
.gate{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  padding: 18px;
  backdrop-filter: blur(10px);
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(167,196,177,.85), transparent 60%),
    radial-gradient(900px 700px at 80% 20%, rgba(15,118,110,.30), transparent 55%),
    radial-gradient(900px 700px at 50% 95%, rgba(225, 29, 72, 0.10), transparent 60%),
    linear-gradient(135deg, var(--sage2), rgba(15,118,110,.10));
}
.gateCard{
  width: min(520px, 92vw);
  border-radius: 22px;
  background: rgba(255,255,255,0.82);
  border: 1px solid rgba(15,118,110,.18);
  box-shadow: 0 22px 80px rgba(2,44,34,.20);
  padding: 22px 18px;
  text-align: center;
}
.gateBadge{
  display:inline-block;
  padding: 7px 12px;
  border-radius: 999px;
  background: rgba(15,118,110,.08);
  border: 1px solid rgba(15,118,110,.16);
  font-weight: 900;
  font-size: 12px;
  margin-bottom: 10px;
}
.gateTitle{
  margin: 0 0 6px;
  font-size: 22px;
  font-weight: 950;
  letter-spacing: -0.01em;
}
.gateSub{
  margin: 0 0 14px;
  color: rgba(15,23,42,.60);
  font-weight: 700;
}
.gateRow{
  display:flex;
  gap: 10px;
  justify-content:center;
  align-items:center;
  flex-wrap: wrap;
}
.gateInput{
  width: min(320px, 86vw);
  padding: 12px 14px;
  border-radius: 999px;
  border: 1px solid rgba(15,118,110,.18);
  background: rgba(255,255,255,.85);
  outline: none;
  font-weight: 800;
  color: rgba(15,23,42,.78);
}
.gateInput:focus{
  border-color: rgba(15,118,110,.35);
  box-shadow: 0 0 0 4px rgba(15,118,110,.10);
}
.gateBtn{
  padding: 12px 18px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-weight: 950;
  color: white;
  background: linear-gradient(135deg, var(--emerald), var(--emerald2));
  box-shadow: 0 14px 26px rgba(15,118,110,.35);
}
.gateBtn:active{ transform: scale(.99); }
.gateError{
  margin-top: 10px;
  font-weight: 900;
  color: rgba(225, 29, 72, 0.88);
}
</style>
</head>

<body>
  <!-- PASSCODE GATE -->
  <div class="gate" id="gate" aria-hidden="false">
    <div class="gateCard" role="dialog" aria-modal="true" aria-labelledby="gateTitle">
      <div class="gateBadge">Private</div>
      <h2 id="gateTitle" class="gateTitle">Enter our passcode</h2>
      <p class="gateSub">The pass is our safe word (lowercase).</p>

      <div class="gateRow">
        <input id="gateInput" class="gateInput" type="password" placeholder="Passcode" autocomplete="off" />
        <button id="gateBtn" class="gateBtn" type="button">Unlock</button>
      </div>

      <div id="gateError" class="gateError" style="display:none;">Wrong passcode. Try again.</div>
    </div>
  </div>

  <div class="petals" id="petals"></div>
  <div class="sparkles" id="sparkles"></div>
  <div class="toast" id="toast"></div>

  <main class="container">
    <!-- TOP CARD -->
    <section class="card" id="topCard">
      <div class="badge">Tanmay's Valentine's Proposal</div>

      <div class="icon">
        <img src="cat-love.png" class="love-icon" alt="cute cat holding heart">
      </div>

      <h1><span id="name">Nikita</span>, will you be my Valentine?</h1>
      <p>I am so lucky to get to spend this special day with my special person. Please say Yes!</p>

      <div class="stage" id="stage">
        <button class="btn" id="yesBtn">Yes!!</button>
        <button class="btn" id="noBtn">No</button>
      </div>

      <div class="hint" id="hint"> Don't you even think about pressing ‚ÄúNo‚Äù .</div>
      <div class="result" id="result">Thank you for being my Valentine! ‚ù§Ô∏è</div>
    </section>

    <!-- AFTER YES CONTENT -->
    <section class="afterYes" id="afterYes">
      <div class="section celebrate" id="celebrateSection">
        <div class="bigLine">Good choice ‚ù§Ô∏è</div>
        <p class="smallLine">
          You just Won unlimited hugs, kisses, and cuddles
          <br><span style="opacity:.8">(redeemable whenever you want, I promise)</span>
        </p>
      </div>

      <div class="section" id="secretNote">
        <h2>A Secret Love Letter ‚úâÔ∏è</h2>
        <p class="sub"> Just for my darling </p>

        <div class="envelopeWrap">
          <div class="envelope" id="envelope">
            <div class="letter">
              <p id="noteText">
                Hey Beautiful, I just want you to know I‚Äôm so obsessed with you, genuinely grateful for you in my life.
                You make my days softer, funnier, and life a lot more beautiful.
                Thank you for being you. ‚ù§Ô∏è
              </p>
            </div>
            <div class="envTop"></div>
            <div class="envBottom"></div>
          </div>
          <div class="envelopeHint">(Tap)</div>
        </div>
      </div>

      <div class="section" id="dateIdeas">
        <h2>Our Date Options for the Valentine's Month üìÖ</h2>
        <p class="sub">Tap to see what options we have for the month. Select a plan & pick the date/time you want (or let's decide together).</p>

        <div class="accordion">

          <details class="acc" data-activity="Roger Williams Park">
            <summary>
              <span class="accTitle">üì∏ üå≥ Roger Williams Park</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>Get drinks from Nitro Bar</li>
                <li>Visit Museum of Natural History and Planetarium</li>
                <li>Golden hour walk + Polaroid pictures</li>
                <li>Hold hands + Talks</li>
                <li>Pick a ‚Äúbest picture‚Äù and make it our new wallpaper</li>
                <li>Dinner together</li>
              </ul>
              <!-- controls injected by JS -->
            </div>
          </details>

          <details class="acc" data-activity="Bowling or Skating night">
            <summary>
              <span class="accTitle">üé≥ Bowling or ‚õ∏Ô∏è Skating night</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>Warm-up Drink & Snacks</li>
                <li>Take cute skating selfies and videos</li>
                <li>Do slow laps together</li>
                <li>Winner chooses dessert</li>
                <li>Loser chooses the next date idea</li>
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Thrifting & Shopping Stroll in Providence">
            <summary>
              <span class="accTitle"> üõí Thrifiting & üõçÔ∏è Shopping Stroll in Providence</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>Get a nice coffee</li>
                <li>We pick few stores we wanna visit</li>
                <li>Try to find Valentines Dinner outfits</li>
                <li>Dress each other up in trial rooms</li>
                <li>We come home try the clothes on for each other</li>
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Go around in Newport">
            <summary>
              <span class="accTitle"> üåä üõ•Ô∏è Go around in Newport</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>Picnic at Brenton Point State Park</li>
                <li>Strolling at Thames street and Bowen's Wharf</li>
                <li>Eat at Jayd Bun</li>
                <li>Walk around Easton Beach</li>
                <li>Visit the Cliff Walk</li>
                <li>Sunset at Castle Hill light house</li>
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Boston Day Trip">
            <summary>
              <span class="accTitle">üöÜ üç£ Boston Day Trip</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>9:00 - I‚Äôll come by </li>
                <li>9:30 - Leave your house together</li>
                <li>9:45 - Train from Providence to Boston</li>
                <li>11:00 - Arrive in Boston</li>
                <li>11:15 - Coffee at Jibei Chuan (Chinatown)</li>
                <li>12:00 - Quincy Market: wander + window shop + brunch</li>
                <li>1:30 - Green Line to Newbury Street</li>
                <li>2:00 - 3:30 - Newbury Street: explore + thrift + wander</li>
                <li>3:30 - Walk to Spring Shanghai (Fenway)</li>
                <li> 4:00 - 6:00 - Lunch + relax + Fenway walk</li>
                <li>6:00 - Walk to Kyo-Matcha</li>
                <li>6:15 - 7:15 - Dessert + evening caffeine + talk + unwind</li>
                <li>7:15 - Head toward South Station / Back Bay</li>
                <li> 7:55 - Train back to Providence</li>
                <li> 9:00 - Arrive Providence</li>
                <li> 9:30 - Reach home</li>
  
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Cozy Home Dinner date & Movie night">
            <summary>
              <span class="accTitle">üçΩÔ∏è Cozy Home Dinner date & üé¨ Movie night</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>You pick the cusine (I‚Äôll cook it)</li>
                <li>Blanket + low lights + snacks</li>
                <li>Go to store and Play pick the snacks game</li>
                <li>We get nice wine</li>
                <li>We Pick 3 movies, randomize 1</li>
                <li>Mid-movie cuddle break</li>
                <li>Walk or drive after dinner for dessert</li>
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Morning Hike and Breakfast at Krispy Kreme">
            <summary>
              <span class="accTitle"> ‚òÄÔ∏èüèû Connecticut Hike and Breakfast at üç© Krispy Kreme</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>We wake up at 4:45am</li>
                <li>We leave for the hike at 5:30am</li>
                <li>Get some coffee for the way</li>
                <li>We reach Bluff Point State Park at 6:45am</li>
                <li>Finish 5 mile hike in 2hrs by 9am</li>
                <li>Breakfast at Krispy Kreme at 9:30am</li>
                <li>Leave by 10:30am and back home by 11:45am</li>
                <li>Carry-on with the rest of your days</li>
              </ul>
            </div>
          </details>

          <details class="acc" data-activity="Friday Paint Night and Stargazing">
            <summary>
              <span class="accTitle">üé® Friday Paint Night and üåü Stargazing</span>
              <span class="accHint">tap to open</span>
            </summary>
            <div class="accBody">
              <ul>
                <li>We pick the same painting to draw</li>
                <li>Sit facing each other and paint.</li>
                <li>We exchange our canvas every 5 minutes</li>
                <li>Shots everytime we exchange</li>
                <li>Reveal and exchange the final results</li>
                <li>Go stargazing at Frosty Drew if weather's clear</li>
                <li>Drive Thru Snacks while coming back</li>
              </ul>
            </div>
          </details>

        </div>


        <!-- Google Sheet Link -->
        <div class="footerNote" style="margin-top:10px;">
          Planner: <a id="sheetLink" href="#" target="_blank" rel="noopener noreferrer">View here</a>
          &nbsp;|&nbsp;
          <a id="openCalLink" href="#" target="_blank" rel="noopener noreferrer">Open shared calendar</a>
          
        </div>
      </div>

      <div class="section" id="memories">
        <h2>Some Surprise Gifts for you üéÅ</h2>
        <p class="sub">Select the gift of your choice.</p>

        <div class="memGrid">
          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              üåπ Roses that we make together and they never die ‚ù§Ô∏è
              <small>So that my love for you stays forever like those roses.</small>
            </div>
          </div>

          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              üç´ üçì Chocolate Covered Strawberries.
              <small>I know how much you love chocolate and strawberries - some special treats I prepared myself.</small>
            </div>
          </div>

          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              üí≥ üõÇ Travel Wallet that matches your Suitcase.
              <small>
                Matching travel wallet that fits your IDs, passport, boarding pass, foreign currency,
                and other important documents so everything stays together and safe.
              </small>
            </div>
          </div>

          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              ü•¢ üç£ Cute Pink Chopsticks.
              <small>Set of 5 cute pairs of pink chinese chopsticks so you can enjoy all your yummy Asian food even more.</small>
            </div>
          </div>

          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              üéüÔ∏è 40 Surprise Scratch-Off Dates booklet.
              <small>So that we have no excuse to skip on dates even when both are running out of date ideas.</small>
            </div>
          </div>

          <div class="memCard">
            <div class="memCover">üéÅ</div>
            <div class="memReveal">
              üß∫ üéÄ All of the above.
              <small>You want everything that I mentioned above in the list.</small>
            </div>
          </div>
        </div>
      </div>

      <!--  Promise Jar  -->
      <div class="section" id="promiseJar">
        <h2>Promise Jar ü´ô</h2>
        <p class="sub">Tap the jar (or the button) to pull out a promise.</p>

        <div class="jarWrap">
          <div class="jar" id="jar" role="button" tabindex="0" aria-label="Promise jar">
            <div class="jarGlass"></div>
            <div class="jarShine"></div>
            <div class="jarLabel">Promises</div>

            <div class="jarNotes" aria-hidden="true">
              <span class="note n1">üíå</span>
              <span class="note n2">üíå</span>
              <span class="note n3">üíå</span>
              <span class="note n4">üíå</span>
              <span class="note n5">üíå</span>
            </div>

            <div class="jarLid"></div>
          </div>

          <button class="pillBtn" id="pickPromiseBtn" type="button">Pick a promise</button>
          <button class="pillBtn jarBtn ghost" id="resetPromisesBtn" type="button">Reset jar</button>

          <div class="footerNote">Made with love by yours only Tanmay.</div>
        </div>
      </div>

    </section>
  </main>

<script>
/* 
   PASSCODE GATE 
 */
const PAGE_PASSCODE = "kale"; // <-- passcode
const PASS_KEY = "valentine_unlocked_v1";

const gate = document.getElementById("gate");
const gateInput = document.getElementById("gateInput");
const gateBtn = document.getElementById("gateBtn");
const gateError = document.getElementById("gateError");

function unlockGate(){
  if (!gate) return;
  gate.style.display = "none";
  gate.setAttribute("aria-hidden", "true");
  // restore normal scroll
  document.body.style.overflowY = "auto";
}
function lockGate(){
  if (!gate) return;
  gate.style.display = "grid";
  gate.setAttribute("aria-hidden", "false");
  // avoid scrolling behind gate
  document.body.style.overflow = "hidden";
}
function tryUnlock(){
  const val = (gateInput?.value || "").trim();
  if (val === PAGE_PASSCODE){
    sessionStorage.setItem(PASS_KEY, "1"); // unlocked for this tab/session
    if (gateError) gateError.style.display = "none";
    unlockGate();
  } else {
    if (gateError) gateError.style.display = "block";
    if (gateInput){
      gateInput.value = "";
      gateInput.focus();
    }
  }
}
if (sessionStorage.getItem(PASS_KEY) === "1"){
  unlockGate();
} else {
  lockGate();
  setTimeout(() => gateInput?.focus(), 50);
}
gateBtn?.addEventListener("click", tryUnlock);
gateInput?.addEventListener("keydown", (e) => {
  if (e.key === "Enter") tryUnlock();
});

/* CUSTOMIZATION */
const HER_NAME = "Nikita";
document.getElementById("name").textContent = HER_NAME;

/* Floating petals */
const petals = document.getElementById("petals");
function petal(){
  const p=document.createElement("div");
  p.className="petal";
  p.textContent="‚ùã";
  p.style.setProperty("--s",(12+Math.random()*10)+"px");
  p.style.setProperty("--d",(9+Math.random()*6)+"s");
  p.style.setProperty("--x",(Math.random()*100)+"vw");
  p.style.setProperty("--dx",(Math.random()*80-40)+"px");
  petals.appendChild(p);
  setTimeout(()=>p.remove(),16000);
}
for(let i=0;i<10;i++) setTimeout(petal, i*350);
setInterval(petal,520);

/* No dodge logic */
const stage = document.getElementById("stage");
const yesBtn = document.getElementById("yesBtn");
const noBtn  = document.getElementById("noBtn");

let home = {x:0,y:0};
let returnTimer = null;
let lastMove = 0;

function setNo(x,y){
  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "translate(-50%, -50%)";
}

function computeHome(){
  const s = stage.getBoundingClientRect();
  const yes = yesBtn.getBoundingClientRect();
  const no  = noBtn.getBoundingClientRect();

  const gap = 28;
  const totalW = yes.width + gap + no.width;
  const startX = (s.width - totalW) / 2;
  const y = s.height / 2;

  yesBtn.style.left = (startX + yes.width/2) + "px";
  yesBtn.style.top = y + "px";
  yesBtn.style.transform = "translate(-50%, -50%)";

  home = { x: startX + yes.width + gap + no.width/2, y };
}

function moveNo(){
  if (Date.now() - lastMove < 500) return;
  lastMove = Date.now();

  const s = stage.getBoundingClientRect();
  const n = noBtn.getBoundingClientRect();
  const pad = 10;

  const x = pad + Math.random() * Math.max(0, (s.width - n.width - pad*2));
  const y = pad + Math.random() * Math.max(0, (s.height - n.height - pad*2));

  setNo(x + n.width/2, y + n.height/2);

  clearTimeout(returnTimer);
  returnTimer = setTimeout(()=> setNo(home.x, home.y), 3000);
}

function initPositions(){
  computeHome();
  setNo(home.x, home.y);
  clearTimeout(returnTimer);
  returnTimer = setTimeout(()=> setNo(home.x, home.y), 3000);
}

requestAnimationFrame(initPositions);
window.addEventListener("load", initPositions);
window.addEventListener("resize", initPositions);

noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("pointerdown", (e)=>{ e.preventDefault(); moveNo(); });

/* Hearts */
const sparkles = document.getElementById("sparkles");
let heartLoop = null;

function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent="‚ù§Ô∏è";
  const x = 16 + Math.random() * (window.innerWidth - 32);
  const y = 120 + Math.random() * 80;
  h.style.left = x + "px";
  h.style.top  = y + "px";
  sparkles.appendChild(h);
  setTimeout(()=>h.remove(), 1300);
}

/* Yes reveal */
const result = document.getElementById("result");
const hint = document.getElementById("hint");
const afterYes = document.getElementById("afterYes");
const celebrateSection = document.getElementById("celebrateSection");

yesBtn.addEventListener("click", ()=>{
  result.style.display="block";
  hint.textContent="Correct answer. Always.";
  noBtn.disabled = true;
  noBtn.style.opacity = .55;
  noBtn.style.cursor = "not-allowed";

  for(let i=0;i<18;i++) setTimeout(heart, i*55);
  if(!heartLoop) heartLoop = setInterval(heart, 180);

  afterYes.style.display="block";
  setTimeout(()=> celebrateSection.scrollIntoView({behavior:"smooth", block:"start"}), 220);
});

/* Envelope */
const envelope = document.getElementById("envelope");
envelope.addEventListener("click", ()=> envelope.classList.toggle("open"));

/* Reveal memory cards */
document.querySelectorAll(".memCard").forEach(card=>{
  card.addEventListener("click", ()=> card.classList.toggle("open"));
});

/* Toast */
const toast = document.getElementById("toast");
let toastTimer=null;
function showToast(msg){
  toast.textContent = msg;
  toast.style.display = "block";
  clearTimeout(toastTimer);
  toastTimer = setTimeout(()=> toast.style.display="none", 2600);
}

/* ‚úÖ Promise Jar logic (no repeats until reset) */
const PROMISES = [
  "Promise 1: I promise I'll notice the little things you do. I don‚Äôt always say it, but I'll never miss it.",
  "Promise 2: I promise we‚Äôll grow through everything together. We don‚Äôt have to have it all figured out. As long as it‚Äôs us. ‚ù§Ô∏è",
  "Promise 3: I promise I‚Äôm not leaving when it gets hard. I‚Äôm staying and working through it.",
  "Promise 4: I promise to choose you in the calm, in the messy, and in everything between.",
  "Promise 5: I promise I will get more consistent in planning dates and quality time together",
  "Promise 6: I promise to speak to you with respect always.",
  "Promise 7: I promise I will get better at communicating instead of going silent when I'm feeling low.",
  "Promise 8: I promise to listen to you fully before I respond or react.",
  "Promise 9: I promise to never use your own feelings against you.",
  "Promise 10: I promise to be calm & patient when you‚Äôre overwhelmed with your feelings."
];
let remainingPromises = [...PROMISES];

const jar = document.getElementById("jar");
const pickPromiseBtn = document.getElementById("pickPromiseBtn");
const resetPromisesBtn = document.getElementById("resetPromisesBtn");

function pickPromise(){
  if (remainingPromises.length === 0){
    remainingPromises = [...PROMISES];
    showToast("Jar refilled ‚ú® Tap again to pull a promise.");
    return;
  }
  const idx = Math.floor(Math.random() * remainingPromises.length);
  const msg = remainingPromises.splice(idx, 1)[0];

  jar.classList.remove("pop");
  void jar.offsetWidth; // restart animation
  jar.classList.add("pop");

  showToast(msg);
}

function resetJar(){
  remainingPromises = [...PROMISES];
  showToast("Promise jar reset üíå");
}

jar.addEventListener("click", pickPromise);
jar.addEventListener("keydown", (e)=> {
  if (e.key === "Enter" || e.key === " ") {
    e.preventDefault();
    pickPromise();
  }
});
pickPromiseBtn.addEventListener("click", pickPromise);
resetPromisesBtn.addEventListener("click", resetJar);

/* 
   SHARED PLANNER (Google Apps Script URL) */
//Shared Calender ID:
const SHARED_CAL_URL = "https://calendar.google.com/calendar/u/0?cid=Zjk0ZmY3OTgwMDc0OTU2OTI2YzIyZTBmZGVkYmZiMDZiYjJmZmNhOWE2OWYzM2VmNDgyZDllZWVmMDMzOGFjZUBncm91cC5jYWxlbmRhci5nb29nbGUuY29t";

// Your web app URL
const API_URL = "https://script.google.com/macros/s/AKfycbxXThPTOJh5_U8nAH_hCpU8WrSY_revwPPbkQ3TsBpJYXc2CKbUw1-fCHae4PpCWfJd/exec";

// Put your Google Sheet URL here:
const SHEET_URL = "https://docs.google.com/spreadsheets/d/1SD9oHvoakiAkFyu544JYK7Wv3xnmuiOUAd59h571y3o/edit?usp=sharing";

const SECRET = "sungodnika";

// Who is saving (for the email notification + board)
const WHO = HER_NAME;

// Edit these to whatever week you want
const DATE_OPTIONS = [
  "Feb 05", "Feb 06", "Feb 07", "Feb 08", "Feb 09", "Feb 10", "Feb 11","Feb 12", "Feb 13", "Feb 14", "Feb 15","Feb 19", "Feb 20", "Feb 21","Feb 22", "Feb 26", "Feb 27","Feb 28"
];

// Injects date/time/save controls into every activity
function injectPlannerControls(){
  document.querySelectorAll("#dateIdeas details.acc").forEach((details, i) => {
    const activity = details.getAttribute("data-activity") || "Date";
    const body = details.querySelector(".accBody");
    if(!body) return;

    // store index so we can pre-fill later
    details.dataset.planIndex = String(i);

    // prevent duplicate injection
    if (body.querySelector(".planControls")) return;

    const dateId = `datePick_${i}`;
    const timeId = `timePick_${i}`;
    const noteId = `notePick_${i}`;

    const wrap = document.createElement("div");
    wrap.className = "planControls";
    wrap.innerHTML = `
      <div class="planLabel">Pick a date for this activity and hit Save:</div>

      <select class="pillBtn" id="${dateId}" style="padding:10px 14px;">
        <option value="">Pick a date‚Ä¶</option>
        ${DATE_OPTIONS.map(d => `<option value="${d}">${d}</option>`).join("")}
      </select>

      <input class="pillBtn" id="${timeId}" placeholder="Time (optional)"
             style="padding:10px 14px; min-width:140px;" />

      <input class="pillBtn" id="${noteId}" placeholder="Notes (optional)"
             style="padding:10px 14px; min-width:200px;" />

      <button class="pillBtn" type="button"
        data-index="${i}"
        data-activity="${activity}" data-date="${dateId}" data-time="${timeId}" data-note="${noteId}">
        Save
      </button>
    `;

    wrap.querySelector("button").addEventListener("click", async (e) => {
      const btn = e.currentTarget;
      const a = btn.getAttribute("data-activity");
      const date = document.getElementById(btn.getAttribute("data-date")).value;
      const time = document.getElementById(btn.getAttribute("data-time")).value;
      const notes = document.getElementById(btn.getAttribute("data-note")).value;

      if (!date){
        showToast("Pick a date first.");
        return;
      }

      await savePlan({ activity: a, date, time, notes });
      await loadPlans();
    });

    body.appendChild(wrap);
  });
}

async function savePlan({activity, date, time, notes}){
  const payload = {
    secret: SECRET,
    who: WHO,
    activity,
    date,
    time,
    notes
  };

  try{
    const res = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "text/plain;charset=utf-8" },
      body: JSON.stringify(payload)
    });
    const data = await res.json();
    if(!data.ok) throw new Error(data.error || "Failed");

    showToast("Saved.");
  }catch(err){
    console.error(err);
    showToast("Could not save. Check Apps Script permissions/secret.");
  }
}

function renderPlans(rows){
  const el = document.getElementById("planList");
  if(!el) return;

  if(!rows || rows.length === 0){
    el.innerHTML = `
      <div style="padding:10px 12px; border-radius:14px;
                  background: rgba(255,255,255,0.72);
                  border: 1px solid rgba(15,118,110,0.12);">
        No updates yet. Save a date to start.
      </div>`;
    return;
  }

  el.innerHTML = rows.slice(0, 10).map(r => {
    const t = r.time ? ` at ${r.time}` : "";
    const n = r.notes ? `<div style="opacity:.70; margin-top:4px;">Note: ${escapeHtml(r.notes)}</div>` : "";
    return `
      <div style="padding:10px 12px; margin:8px 0; border-radius:14px;
                  background: rgba(255,255,255,0.72);
                  border: 1px solid rgba(15,118,110,0.12);">
        <div style="font-weight:950;">${escapeHtml(r.who || "")} ‚Üí ${escapeHtml(r.activity || "")}</div>
        <div style="opacity:.78;">${escapeHtml(r.date || "")}${t}</div>
        ${n}
      </div>
    `;
  }).join("");
}

function escapeHtml(str){
  return String(str || "")
    .replaceAll("&", "&amp;")
    .replaceAll("<", "&lt;")
    .replaceAll(">", "&gt;")
    .replaceAll('"', "&quot;")
    .replaceAll("'", "&#039;");
}

/* ===== Make saved selections show + mark planned ===== */
function normalizeActivity(str){
  return String(str || "").trim().toLowerCase();
}

function getLatestByActivity(rows){
  const map = new Map();
  for (const r of (rows || [])){
    const key = normalizeActivity(r.activity);
    if (!key) continue;
    map.set(key, r); // latest wins
  }
  return map;
}

function markPlannedUI(rows){
  const latestMap = getLatestByActivity(rows);

  // Optional: disable already-used dates globally (prevents double-book)
  const usedDates = new Set((rows || []).map(r => (r.date || "").trim()).filter(Boolean));

  document.querySelectorAll("#dateIdeas details.acc").forEach((details) => {
    const activity = details.getAttribute("data-activity") || "";
    const key = normalizeActivity(activity);
    const latest = latestMap.get(key);

    const body = details.querySelector(".accBody");
    if (!body) return;

    // Ensure status pill exists
    let status = body.querySelector(".planStatus");
    if (!status){
      status = document.createElement("div");
      status.className = "planStatus";
      body.appendChild(status);
    }

    if (!latest){
      details.classList.remove("planned");
      status.style.display = "none";
      const hintEl = details.querySelector(".accHint");
      if (hintEl) hintEl.textContent = "tap to open";
      return;
    }

    details.classList.add("planned");
    status.style.display = "inline-flex";
    const t = (latest.time || "").trim();
    const when = `${(latest.date || "").trim()}${t ? " ¬∑ " + t : ""}`;
    status.innerHTML = `‚úÖ <span>Planned: ${escapeHtml(when)}${latest.who ? " (" + escapeHtml(latest.who) + ")" : ""}</span>`;

    // Prefill controls
    const idx = details.dataset.planIndex;
    if (idx != null){
      const dateEl = document.getElementById(`datePick_${idx}`);
      const timeEl = document.getElementById(`timePick_${idx}`);
      const noteEl = document.getElementById(`notePick_${idx}`);

      if (dateEl && latest.date) dateEl.value = (latest.date || "").trim();
      if (timeEl) timeEl.value = (latest.time || "").trim();
      if (noteEl) noteEl.value = (latest.notes || "").trim();

      // Disable used dates (keep current chosen enabled)
      if (dateEl){
        const chosen = (latest.date || "").trim();
        Array.from(dateEl.options).forEach(opt => {
          const val = (opt.value || "").trim();
          if (!val) return;
          opt.disabled = usedDates.has(val) && val !== chosen;
        });
      }
    }

    const hintEl = details.querySelector(".accHint");
    if (hintEl) hintEl.textContent = "planned ‚úì";
  });
}

async function loadPlans(){
  try{
    const res = await fetch(API_URL, { method: "GET" });
    const data = await res.json();
    if(!data.ok) return;

    const rows = data.rows || [];
    renderPlans(rows);
    markPlannedUI(rows);
  }catch(err){
    console.error(err);
  }
}
window.addEventListener("load", () => {
  injectPlannerControls();
  loadPlans();
  setInterval(loadPlans, 8000); // auto-refresh so you see her updates

  // set sheet link
  const sheetLink = document.getElementById("sheetLink");
  if (sheetLink && SHEET_URL && !SHEET_URL.includes("PASTE_")){
    sheetLink.href = SHEET_URL;
  }

  // set shared calendar link
  const openCalLink = document.getElementById("openCalLink");
  if (openCalLink){
    openCalLink.href = SHARED_CAL_URL;
  }
});

</script>
</body>
</html>
